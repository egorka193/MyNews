{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/user/auth/sign-up":{"post":{"operationId":"UserAuthController_signUp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequestDTO"}}}},"responses":{"200":{"description":"Используйте этот запрос, чтобы зарегестрировать пользователя и получить пару access/refresh tokens для дальнейших запросов. Время жизни токена 24 часа.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpResponseDTO"}}}},"400":{"description":""},"409":{"description":"В базе уже есть пользователь с таким именем"}},"summary":"Зарегестрировать пользователя, используя пароль и уникальное имя","tags":["User / Auth"]}},"/user/auth/sign-in":{"post":{"operationId":"UserAuthController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequestDTO"}}}},"responses":{"200":{"description":"Используйте этот запрос, чтобы получить пару access/refresh tokens для дальнейших запросов. Время жизни токена 24 часа.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInResponseDTO"}}}},"400":{"description":"В базе нет пользователя с таким именем или неправильный пароль"}},"summary":"Авторизовать пользователя, используя имя и пароль","tags":["User / Auth"]}},"/user/auth/refresh":{"post":{"operationId":"UserAuthController_refresh","parameters":[],"responses":{"200":{"description":"Получить новую пару access/refresh токенов по refresh токену","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponseDTO"}}}},"400":{"description":""},"401":{"description":"Пользователь не авторизован. Попробуйте авторизоваться снова"},"404":{"description":"Пользователь не найден"}},"security":[{"bearer":[]}],"summary":"Получить новую пару access/refresh токенов по refresh токену","tags":["User / Auth"]}},"/users/me":{"get":{"operationId":"UserController_getMe","parameters":[],"responses":{"200":{"description":"Получить мой профиль","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserGetInfoResponseDTO"}}}},"401":{"description":"Пользователь не авторизован. Попробуйте авторизоваться снова"},"404":{"description":"Пользователь не найден"}},"security":[{"bearer":[]}],"summary":"Получить мой профиль","tags":["Users"]}},"/users":{"patch":{"operationId":"UserController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequestDTO"}}}},"responses":{"200":{"description":"Редактировать профиль пользователя","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateResponseDTO"}}}},"400":{"description":""},"401":{"description":"Пользователь не авторизован. Попробуйте авторизоваться снова"},"404":{"description":"Пользователь не найден"},"409":{"description":"В базе уже есть пользователь с таким именем"}},"security":[{"bearer":[]}],"summary":"Редактировать профиль пользователя","tags":["Users"]}},"/news":{"get":{"operationId":"NewsController_getMany","parameters":[{"name":"size","required":false,"in":"query","schema":{"minimum":5,"default":10,"type":"integer"}},{"name":"nextCursor","required":false,"in":"query","schema":{"type":"string"}},{"name":"forLastWeek","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Получить список новостей с курсорной пагинацией","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsGetManyResponseDTO"}}}}},"summary":"Получить список новостей с курсорной пагинацией","tags":["News"]}},"/news/top":{"get":{"operationId":"NewsController_getTop","parameters":[],"responses":{"200":{"description":"Получить 10 топовых новостей","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsGetTopResponseDTO"}}}}},"summary":"Получить 10 топовых новостей","tags":["News"]}},"/news/top-ids":{"get":{"operationId":"NewsController_getLast","parameters":[{"name":"amount","required":true,"in":"query","description":"Количество, необходимое для получения ID топовых новостей","schema":{"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"Получить ID топовых новостей","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsGetLastResponseDTO"}}}},"400":{"description":""}},"summary":"Получить ID топовых новостей","tags":["News"]}},"/news/{id}":{"get":{"operationId":"NewsController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Получить новость по ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsGetOneResponseDTO"}}}},"404":{"description":"Новость с таким ID не найдена"}},"summary":"Получить новость по ID","tags":["News"]}},"/health/liveness":{"get":{"operationId":"HealthcheckController_liveness","parameters":[],"responses":{"200":{"description":""}},"tags":["Healthcheck"]}},"/health/readiness":{"get":{"operationId":"HealthcheckController_readiness","parameters":[],"responses":{"200":{"description":""}},"tags":["Healthcheck"]}}},"info":{"title":"Internship News Portal API","description":"\n\n      ВНИМАНИЕ\n      Во всех запросах есть описание. Следуйте инструкциям в запросах.","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"SignUpRequestDTO":{"type":"object","properties":{"username":{"type":"string","description":"Имя пользователя, должно быть не менее 1 и не более 255 символов","example":"user1","minLength":1,"maxLength":255},"password":{"type":"string","description":"Пароль, должен быть не менее 8 и не более 32 символов, иметь хотя бы одну заглавную букву (A-Z), хотя бы одну строчную букву (a-z) и хотя бы одну цифру (0-9)","example":"Password1","minLength":8,"maxLength":32}},"required":["username","password"]},"SignUpResponseDTO":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access токен. Добавь его в заголовок 'Authorization' для энд-поинтов, которые требуют авторизации пользователя."},"refreshToken":{"type":"string","description":"JWT refresh токен для обновления access-токена. Укажи его в энд-поинте '/user/auth/refresh' когда access-токен истечет."}},"required":["accessToken","refreshToken"]},"SignInRequestDTO":{"type":"object","properties":{"username":{"type":"string","description":"Имя пользователя, должно быть не менее 1 и не более 255 символов","example":"user1","minLength":1,"maxLength":255},"password":{"type":"string","description":"Пароль, должен быть не менее 8 и не более 32 символов, иметь хотя бы одну заглавную букву (A-Z), хотя бы одну строчную букву (a-z) и хотя бы одну цифру (0-9)","example":"Password1","minLength":8,"maxLength":32}},"required":["username","password"]},"SignInResponseDTO":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access токен. Добавь его в заголовок 'Authorization' для энд-поинтов, которые требуют авторизации пользователя."},"refreshToken":{"type":"string","description":"JWT refresh токен для обновления access-токена. Укажи его в энд-поинте '/user/auth/refresh' когда access-токен истечет."}},"required":["accessToken","refreshToken"]},"RefreshTokenResponseDTO":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access токен. Добавь его в заголовок 'Authorization' для энд-поинтов, которые требуют авторизации пользователя."},"refreshToken":{"type":"string","description":"JWT refresh токен для обновления access-токена. Укажи его в энд-поинте '/user/auth/refresh' когда access-токен истечет."}},"required":["accessToken","refreshToken"]},"UserGetInfoResponseDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"type":"string","description":"Имя пользователя, должно быть не менее 1 и не более 255 символов","example":"user1","minLength":1,"maxLength":255},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","username","createdAt","updatedAt"]},"UserUpdatePasswordDTO":{"type":"object","properties":{"password":{"type":"string","description":"Старый пароль, должен быть не менее 8 и не более 32 символов, иметь хотя бы одну заглавную букву (A-Z), хотя бы одну строчную букву (a-z) и хотя бы одну цифру (0-9)","example":"Password1","minLength":8,"maxLength":32},"newPassword":{"type":"string","description":"Новый пароль, должен быть не менее 8 и не более 32 символов, иметь хотя бы одну заглавную букву (A-Z), хотя бы одну строчную букву (a-z) и хотя бы одну цифру (0-9)","example":"Password2","minLength":8,"maxLength":32}},"required":["password","newPassword"]},"UserUpdateRequestDTO":{"type":"object","properties":{"username":{"type":"string","description":"Имя пользователя, должно быть не менее 1 и не более 255 символов","example":"user2","minLength":1,"maxLength":255,"nullable":true},"passwordData":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/UserUpdatePasswordDTO"}]}}},"UserUpdateResponseDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"type":"string","description":"Имя пользователя, должно быть не менее 1 и не более 255 символов","example":"user1","minLength":1,"maxLength":255},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","username","createdAt","updatedAt"]},"GetNewsResponseDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"title":{"type":"string"},"description":{"type":"string"},"shortDescription":{"type":"string"},"imageUrl":{"type":"string","format":"uri","nullable":true},"createdAt":{"type":"string","format":"date-time"}},"required":["id","title","description","shortDescription","createdAt"]},"CursorPaginatedMeta":{"type":"object","properties":{"hasMore":{"type":"boolean"},"nextCursor":{"type":"string","nullable":true},"total":{"type":"number","nullable":true}},"required":["hasMore"]},"NewsGetManyResponseDTO":{"type":"object","properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/GetNewsResponseDTO"}},"meta":{"$ref":"#/components/schemas/CursorPaginatedMeta"}},"required":["results","meta"]},"NewsGetTopResponseDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"title":{"type":"string"},"description":{"type":"string"},"shortDescription":{"type":"string"},"imageUrl":{"type":"string","format":"uri","nullable":true},"createdAt":{"type":"string","format":"date-time"}},"required":["id","title","description","shortDescription","createdAt"]},"NewsGetLastResponseDTO":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["ids"]},"NewsGetOneResponseDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"title":{"type":"string"},"description":{"type":"string"},"shortDescription":{"type":"string"},"imageUrl":{"type":"string","format":"uri","nullable":true},"createdAt":{"type":"string","format":"date-time"}},"required":["id","title","description","shortDescription","createdAt"]}}}}